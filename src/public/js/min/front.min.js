function onYouTubePlayerAPIReady(){video.ready()}var video=function(){"use strict";var e=function(){var e=document.createElement("script");e.src="https://www.youtube.com/player_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)},t=function(e,t){var n=document.body,i=document.documentElement,a=Math.max(n.scrollHeight,n.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight),o=Math.max(n.scrollWidth,n.offsetWidth,i.clientWidth,i.scrollWidth,i.offsetWidth),r=document.querySelectorAll(".video > div");if(r.length<1)return animation.play(),!1;for(var l=0;l<r.length;l++){var e=r[l].getAttribute("data-video"),t=r[l].id;this.insert(e,t,a,o)}},n=function(e,t,n,i){new YT.Player(t,{height:n,width:i,videoId:e,events:{onReady:video.save,onStateChange:video.ended}})},i=function(e){blockbuster.list.push({name:e.target.a.id,player:e.target}),blockbuster.list.length===document.getElementsByClassName("video").length&&animation.play()},a=function(e){0===e.data&&animation.play(animation.current,animation.slides)};return{init:e,ready:t,insert:n,save:i,ended:a}}(),animation=function(){"use strict";var e=0,t=document.getElementsByClassName("item"),n=function(){for(var e=0;e<t.length;e++)t[e].style.opacity=0;animation.current=animation.current!=animation.slides.length-1?animation.current+1:0,animation.slides[animation.current].style.opacity=1;var n=1e3*animation.slides[animation.current].getAttribute("data-duration");if(isNaN(n)){for(var i=animation.slides[animation.current].childNodes[1].id,e=(document.getElementById(i),0);e<blockbuster.list.length;e++)blockbuster.list[e].name===i&&blockbuster.list[e].player.playVideo();return!1}setTimeout(function(){animation.play()},n)};return{current:e,slides:t,play:n}}(),blockbuster=function(){"use strict";var e=[];return{list:e}}(),refresh=function(){var e=io();return e.on("reload",function(){location.reload()}),{socket:e}}();video.init();

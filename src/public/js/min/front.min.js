function onYouTubePlayerAPIReady(){video.ready()}var video=function(){"use strict";var t=function(){var t=document.createElement("script");t.src="https://www.youtube.com/player_api";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)},e=function(t,e){var n=document.body,i=document.documentElement,a=Math.max(n.scrollHeight,n.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight),o=Math.max(n.scrollWidth,n.offsetWidth,i.clientWidth,i.scrollWidth,i.offsetWidth),r=document.querySelectorAll(".video > div");if(r.length<1)return animation.play(),!1;for(var s=0;s<r.length;s++){var t=r[s].getAttribute("data-video"),e=r[s].id;this.insert(t,e,a,o)}},n=function(t,e,n,i){new YT.Player(e,{height:n,width:i,videoId:t,events:{onReady:video.save,onStateChange:video.ended}})},i=function(t){blockbuster.list.push({name:t.target.a.id,player:t.target}),blockbuster.list.length===document.getElementsByClassName("video").length&&animation.play()},a=function(t){0===t.data&&animation.play(animation.current,animation.slides)};return{init:t,ready:e,insert:n,save:i,ended:a}}(),animation=function(){"use strict";var t=0,e=document.getElementsByClassName("item"),n=function(){for(var t=0;t<e.length;t++)e[t].style.opacity=0;animation.current=animation.current!=animation.slides.length-1?animation.current+1:0,animation.slides[animation.current].style.opacity=1;var n=1e3*animation.slides[animation.current].getAttribute("data-duration");if(isNaN(n)){for(var i=animation.slides[animation.current].childNodes[1].id,t=(document.getElementById(i),0);t<blockbuster.list.length;t++)blockbuster.list[t].name===i&&blockbuster.list[t].player.playVideo();return!1}setTimeout(function(){animation.play()},n)};return{current:t,slides:e,play:n}}(),blockbuster=function(){"use strict";var t=[];return{list:t}}(),refresh=function(){var t=io();return t.on("reload",function(){location.reload()}),{socket:t}}();video.init();
